-----
----- Generated by EmmyLua(https://github.com/EmmyLua)
----- Created by zhoujie.
----- DateTime: 2022/9/30 16:58
-----
--
--lib996:include("Script/serialize.lua")
--local cfg_chenghao = {
--    [1] = {
--        Name = "初入江湖",
--        Level = 85,
--        effectid = 30101,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 5000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 0,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 0,
--            },
--            [3] = {
--                [1] = 4,
--                [2] = 0,
--            },
--            [4] = {
--                [1] = 56,
--                [2] = 0,
--            },
--        },
--    },
--    [2] = {
--        Name = "名动江湖",
--        Level = 90,
--        effectid = 30102,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 10000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 300,
--            },
--        },
--    },
--    [3] = {
--        Name = "威震八方",
--        Level = 95,
--        effectid = 30103,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 20000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 600,
--            },
--        },
--    },
--    [4] = {
--        Name = "剑雨风行",
--        Level = 100,
--        effectid = 30104,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 30000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 900,
--            },
--        },
--    },
--    [5] = {
--        Name = "武林至尊",
--        Level = 110,
--        effectid = 30105,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 80000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 1200,
--            },
--        },
--    },
--    [6] = {
--        Name = "我就是神",
--        Level = 120,
--        effectid = 30106,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 140000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 1500,
--            },
--        },
--    },
--    [7] = {
--        Name = "破天轩辕",
--        Level = 130,
--        effectid = 30107,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 210000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 1800,
--            },
--        },
--    },
--    [8] = {
--        Name = "烽火杀戮",
--        Level = 140,
--        effectid = 30108,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 290000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 2100,
--            },
--        },
--    },
--    [9] = {
--        Name = "玄灵驭世",
--        Level = 150,
--        effectid = 30109,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 380000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 2400,
--            },
--        },
--    },
--    [10] = {
--        Name = "众生俯仰",
--        Level = 160,
--        effectid = 30110,
--        Consume = {
--            [1] = {
--                [1] = 12,
--                [2] = 480000,
--            },
--        },
--        Attribute0 = {
--            [1] = {
--                [1] = 1,
--                [2] = 400,
--            },
--            [2] = {
--                [1] = 3,
--                [2] = 80,
--            },
--            [3] = {
--                [1] = 56,
--                [2] = 2700,
--            },
--        },
--    },
--}
--
--function getcfg_chenghao(actor)
--    return cfg_chenghao
--end
--
--function chenghao(actor)
--    lib996:showformwithcontent(actor, "A/称号", "")
--end
--
--function getchenghaoid(actor)
--    local chenghaoid = 1
--    for i = 1, #cfg_chenghao do
--        if lib996:checktitle(actor, cfg_chenghao[i].Name) then
--            return i
--        end
--    end
--    return chenghaoid
--end
--
--function SyncResponse(actor)
--    lib996:showformwithcontent(actor, "", "ChengHao.SyncResponse(" .. serialize(getchenghaoid(actor)) .. ")")
--end
--
--function chenghaook(actor)
--    if getchenghaoid(actor) == #cfg_chenghao then
--        lib996:sendmsg(actor, 1, '{"Msg":"<font color=\'#ff0000\'>称号已满</font>","Type":9}')
--        return
--    end
--    local cur_chenghao = cfg_chenghao[1]
--    local next_chenghao = cfg_chenghao[2]
--
--    for i = 1, #cfg_chenghao do
--        if lib996:checktitle(actor, cfg_chenghao[i].Name) then
--            cur_chenghao = cfg_chenghao[i]
--            next_chenghao = cfg_chenghao[i + 1]
--            break
--        end
--    end
--    local name = QsQIsItemNumByTable(actor, cur_chenghao.Consume)
--    print("称号消耗:"..lib996:tbl2json(cur_chenghao.Consume))
--    print(name)
--    if name then
--        lib996:sendmsg(actor, 1, '{"Msg":"<font color=\'#ff0000\'>材料不足</font>","Type":9}')
--        return
--    end
--    --拿走材料
--    QsQtakeItemByTable(actor, cur_chenghao.Consume)
--    --拿走当前称号
--    lib996:deprivetitle(actor, cur_chenghao.Name)
--    lib996:clearplayeffect(actor, cur_chenghao.effectid)
--    --给下一个称号
--    lib996:confertitle(actor, next_chenghao.Name)
--    lib996:playeffect(actor, next_chenghao.effectid)
--    --更新称号属性
--    QsQupdateSomeAddr(actor, cur_chenghao.Attribute0, next_chenghao.Attribute0)
--    lib996:sendmsg(actor, 1, '{"Msg":"<font color=\'#ff0000\'>称号晋级成功</font>","Type":9}')
--    SyncResponse(actor)
--end
--
--
--GameEvent.add(EventCfg.onLoginAttr, function(actor, loginattrs)
--    for i = 1, #cfg_chenghao do
--        if lib996:checktitle(actor, cfg_chenghao[i].Name) then
--            --播放特效
--            lib996:playeffect(actor, cfg_chenghao[i].effectid, 0, 0, 0, 0, 1)
--            table.insert(loginattrs, cfg_chenghao[i].Attribute0)
--        end
--    end
--end, "称号附加属性")